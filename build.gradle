description = "Remove automatic transactions from tapestry-hibernate"

apply plugin: 'java'
apply plugin: 'groovy'

sourceCompatibility = '1.6'
targetCompatibility = '1.6'

version = '0.0.1-SNAPSHOT'

group = 'com.howardlewisship'

repositories {
    mavenCentral()

    // All things JBoss/Javassist/Hibernate
    maven {
        name "JBoss"
        url "http://repository.jboss.org/nexus/content/groups/public/"
    }
}

configurations {

    configurations.all {
        resolutionStrategy.cacheChangingModulesFor 0, 'seconds'
    }

}

dependencies {
    compile "org.apache.tapestry:tapestry-hibernate:5.3.7"

    testCompile 'org.spockframework:spock-core:0.7-groovy-2.0'
    testCompile 'com.h2database:h2:1.4.181'
    testCompile 'org.apache.tapestry:tapestry-test:5.3.7'
}

jar {
    manifest {
        attributes 'Tapestry-Module-Classes': 'com.howardlewisship.notx.modules.NoTxModule'
    }
}
